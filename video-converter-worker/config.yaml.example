worker:
  id: worker-1
  concurrency: 3
  master_url: http://localhost:8080  # REQUIRED - master server URL
  heartbeat_interval: 30s
  job_check_interval: 5s
  job_timeout: 2h

storage:
  mount_path: /mnt/storage
  download_timeout: 30m
  upload_timeout: 30m
  cache_path: /tmp/converter-cache
  chunk_size: 10485760  # 10MB chunks (reserved for future chunked streaming; currently unused)
  max_cache_size: 10737418240  # 10GB maximum cache size (0 = unlimited)
  cache_cleanup_age: 24h  # Age after which cached files are cleaned up
  bandwidth_limit: 0  # Bandwidth limit in bytes per second (0 = unlimited)
  enable_resume_download: true  # Enable resume support for downloads

ffmpeg:
  path: /usr/bin/ffmpeg
  use_vulkan: true
  timeout: 2h

vulkan:
  preferred_device: auto
  enable_validation: false

# Conversion settings are now pulled dynamically from the master server.
# The settings below are DEPRECATED and only used as a fallback if the master is unreachable.
# To configure conversion settings, use the web interface at http://<master_url>/
conversion:
  target_resolution: 1920x1080
  codec: h264
  bitrate: 5M
  preset: fast
  audio_codec: aac
  audio_bitrate: 128k

logging:
  level: info
  format: json
  output_path: ./worker.log
